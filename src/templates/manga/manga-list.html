{% extends 'layout.html' %}
{% block body %}
<!-- Secondary Header -->
<div class="bg-light-subtle">
    <div class="container">
        <header class="d-flex justify-content-center py-3">
            <ul class="nav nav-pills">
                <li class="nav-item"><a href="#" class="nav-link"><i class="bi bi-database-down"></i> Import</a></li>
                <li class="nav-item"><a href="{{ url_for('manga.add_manga') }}" class="nav-link"><i
                            class="bi bi-book"></i> Add Manga</a></li>
                <li class="nav-item"><a href="#" class="nav-link"><i class="bi bi-database-up"></i> Export</a></li>
            </ul>
        </header>
    </div>
</div>

<!-- Sorting Options -->
<div class="btn-group d-flex px-1 my-3" role="group">
    {% if sort_function == "All" %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none active" aria-current="page"
        href="{{ url_for('manga.manga_list') }}"><b>All</b></a>
    {% else %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none"
        href="{{ url_for('manga.manga_list') }}"><b>All</b></a>
    {% endif %}
    {% if sort_function == "Reading" %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none active" aria-current="page"
        href="{{ url_for('manga.sort_manga', sort_function = 'Reading') }}"><b>Reading</b></a>
    {% else %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none"
        href="{{ url_for('manga.sort_manga', sort_function = 'Reading') }}"><b>Reading</b></a>
    {% endif %}
    {% if sort_function == "Completed" %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none active" aria-current="page"
        href="{{ url_for('manga.sort_manga', sort_function = 'Completed') }}"><b>Completed</b></a>
    {% else %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none"
        href="{{ url_for('manga.sort_manga', sort_function = 'Completed') }}"><b>Completed</b></a>
    {% endif %}
    {% if sort_function == "On Hold" %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none active" aria-current="page"
        href="{{ url_for('manga.sort_manga', sort_function = 'On hold') }}"><b>On Hold</b></a>
    {% else %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none"
        href="{{ url_for('manga.sort_manga', sort_function = 'On hold') }}"><b>On Hold</b></a>
    {% endif %}
    {% if sort_function == "Dropped" %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none active" aria-current="page"
        href="{{ url_for('manga.sort_manga', sort_function = 'Dropped') }}"><b>Dropped</b></a>
    {% else %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none"
        href="{{ url_for('manga.sort_manga', sort_function = 'Dropped') }}"><b>Dropped</b></a>
    {% endif %}
    {% if sort_function == "Plan To Read" %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none active" aria-current="page"
        href="{{ url_for('manga.sort_manga', sort_function = 'Plan to read') }}"><b>Plan To Read</b></a>
    {% else %}
    <a type="button" class="btn btn-outline-primary flex-grow-1 text-decoration-none"
        href="{{ url_for('manga.sort_manga', sort_function = 'Plan to read') }}"><b>Plan To Read</b></a>
    {% endif %}
</div>

<!-- Table -->
<table class="table table-striped table-hover table-responsive align-middle mt-5">
    <thead>
        <tr>
            <th class="text-center" scope="col">Cover</th>
            <th class="text-center" scope="col">Title</th>
            <th class="text-center" scope="col">Score</th>
            <th class="text-center" scope="col">Volume</th>
            <th class="text-center" scope="col">Chapter</th>
            <th class="text-center" scope="col">Start Date</th>
            <th class="text-center" scope="col">End Date</th>
            <th class="text-center" scope="col">Status</th>
        </tr>
    </thead>
    <tbody class="table-group-divider">
        {% for manga in manga_list %}
        <tr>
            <cover>
                <td class="text-center">
                    <img src="{{ url_for('static', filename='manga_cover/' + manga.cover) }}" alt="Manga Cover"
                        style="height: 13vh; max-width: 65px;">
                </td>
            </cover>
            <td class="text-center">{{ manga.title }}</td>
            <td class="text-center">{{ manga.score }}</td>
            <td class="text-center">{{ manga.volume }}</td>
            <td class="text-center">{{ manga.chapter }}</td>
            <td class="text-center">{{ manga.start_date }}</td>
            <td class="text-center">{{ manga.end_date }}</td>
            <td class="text-center">{{ manga.status }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock body %}